{"version":3,"sources":["../src/loading/loading.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,cAAc,EAAe,MAAM,qBAAqB,CAAC;AAOlE,MAAM,CAAC,OAAO,OAAO,OAAQ,SAAQ,cAAc;IACjD,eAAe,WAAoD;IAEnE,IAAI;;;MAGF;IAEF,OAAO;;MAEL;IAEF,UAAU,kCAAS;IAEnB,KAAK,MAAQ;IAEb,SAAS;;MAmBP;IAEF,SAAS;;MAIP;IAEF,WAAW;CAGZ","file":"loading.d.ts","sourcesContent":["import { SuperComponent, wxComponent } from '../common/src/index';\nimport config from '../common/config';\nimport props from './props';\n\nconst { prefix } = config;\nconst name = `${prefix}-loading`;\n@wxComponent()\nexport default class Loading extends SuperComponent {\n  externalClasses = ['t-class', 't-class-text', 't-class-indicator'];\n\n  data = {\n    classPrefix: name,\n    show: false,\n  };\n\n  options = {\n    multipleSlots: true,\n  };\n\n  properties = props;\n\n  timer = null;\n\n  observers = {\n    loading(this, cur) {\n      const { delay } = this.properties;\n      if (this.timer) {\n        clearTimeout(this.timer);\n      }\n      if (cur) {\n        if (delay) {\n          this.timer = setTimeout(() => {\n            this.setData({ show: cur });\n            this.timer = null;\n          }, delay);\n        } else {\n          this.setData({ show: cur });\n        }\n      } else {\n        this.setData({ show: cur });\n      }\n    },\n  };\n\n  lifetimes = {\n    detached() {\n      clearTimeout(this.timer);\n    },\n  };\n\n  refreshPage() {\n    this.triggerEvent('reload');\n  }\n}\n"]}